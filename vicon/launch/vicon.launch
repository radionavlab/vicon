<launch>
  <node pkg="vicon"
    type="vicon"
    name="vicon"
    output="screen">
    <param name="vicon_server" value="192.168.1.100"/>
    <param name="calib_files_dir" value="$(find vicon)/calib"/>
  </node>

  <arg name="model" default="Dragonfly"/>
  <arg name="child_frame_id" default="$(arg model)/base_link"/>
  <arg name="publish_tf" default="false"/>
  <arg name="vicon_fps" default="100"/>
  <arg name="output" default="screen"/>

  <node pkg="vicon_odom" type="vicon_odom" name="$(arg model)"
    output="$(arg output)" ns="vicon">
    <param name="child_frame_id" type="string" value="$(arg child_frame_id)"/>
    <param name="publish_tf" type="bool" value="$(arg publish_tf)"/>
    <param name="vicon_fps" type="int" value="$(arg vicon_fps)"/>
    <remap from="~vicon_subject" to="$(arg model)"/>
    <remap from="~odom" to="/$(arg model)/odom"/>
  </node>

  <node respawn="true" pkg="joy" type="joy_node" name="joy" >
        <param name="dev" type="string" value="/dev/input/js0" />
        <param name="deadzone" value="0.15" />
	<param name="autorepeat_rate" value="20" />
  </node>
</launch>
